<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gli indovinelli di Natale</title>
    <link rel="stylesheet" href="s.css">
    <style>
        /* Basic CSS for simplicity */
        body {
            font-family: Arial, sans-serif;
            background-color: #f1f1f1; /* Light snow-like background */
            color: #333;
            text-align: center;
            padding: 0;
            margin: 0;
        }

        header {
            background-color: #b22222; /* Christmas red */
            color: white;
            padding: 40px 20px;
            text-align: center;
            background-image: url('https://www.transparenttextures.com/patterns/snowflakes.png');
            background-repeat: no-repeat;
            background-size: cover;
        }

        header h1 {
            font-size: 36px;
            font-family: 'Georgia', serif;
            margin-bottom: 10px;
        }

        header p {
            font-size: 18px;
            font-style: italic;
            margin-top: 0;
        }

        h2 {
            margin-bottom: 10px; /* Add some space below the h2 */
        }

        p {
            margin-top: 10px; /* Add some space above the p */
        }

                /* Christmas Tree Icon Styling */
        .enigma-list a {
            font-size: 20px;
            display: block;
            padding: 10px;
            color: #228b22; /* Forest green */
            text-decoration: none;
            margin: 10px 0;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .enigma-list a:hover {
            background-color: #ff6347; /* Tomato red */
            color: white;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        .enigma-list {
            list-style-type: none;
            padding: 0;
        }
        .enigma-list li {
            margin: 10px 0;
        }

        .enigma {
            background: white;
            border: 2px solid #ccc;
            margin: 20px;
            padding: 20px;
            border-radius: 8px;
        }

        .indice{
            font-style: italic;
            color:#555;
        }

        input {
            padding: 5px;
            margin: 10px;
        }

        button {
            background-color: #228b22; /* Forest green */
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            margin-top: 10px;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #006400; /* Dark green */
        }

        button:disabled {
            background-color: #ccc;
            cursor: not-allowed;
        }

        .resolved {
            opacity: 0.5;
            pointer-events: none;
        }

        /* The Modal (background) */
        .modal {
            display: none; /* Hidden by default */
            position: fixed;
            z-index: 1; /* Sit on top */
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgb(0,0,0); /* Fallback color */
            background-color: rgba(0,0,0,0.4); /* Black with opacity */
        }

        /* Modal Content */
        .modal-content {
            background-color: #fff;
            margin: 15% auto;
            padding: 30px;
            border: 2px solid #b22222; /* Christmas red border */
            width: 80%;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        /* The Close Button */
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }

        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }

        /* The cards */
        #the_card {
            text-align: center; /* Align content to the center */
            margin-top: 30px; /* Add some spacing from the top */
        }

        /* Ensure the heading and paragraph behave as block elements */
        h2 {
            margin-bottom: 20px; /* Add spacing between the heading and the paragraph */
            display: block;      /* Ensure block formatting */
        }

        p {
            margin-top: 10px; /* Add some spacing above the paragraph */
            display: block;   /* Ensure block formatting */
        }

        /* Flexbox layout for the cards */
        .cards-wrapper {
            display: flex;
            justify-content: center;
            gap: 20px; /* Space between cards */
            flex-wrap: wrap; /* Allow wrapping of cards if the screen is small */
            margin-top: 20px; /* Space between the heading and the cards */
        }

        .card-container {
            display: block;
            justify-content: space-around;
            gap: 20px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        /* Card layout */
        .card {
            background-color: white;
            border-radius: 10px;
            width: 300px;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            flex-direction: column; /* Stack the content vertically */
        }

        .card:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2);
        }

        .card-header {
            background-color: #e43737; /* Christmas red */
            color: white;
            padding: 15px;
            font-size: 24px;
            text-align: center;
            border-radius: 10px 10px 0 0;
        }
        .card-footer {
            padding: 10px;
            background-color: #006400;
            text-align: center;
            font-size: 14px;
            color: white;
        }

        /* Body of the card */
        .card-body {
            padding: 20px;
            font-size: 16px;
            color: #555;
        }

        .hidden {
            display: none;
        }

        /* Christmas decorations */
        .snowflakes {
            position: fixed;
            top: 0;
            left: 0;
            z-index: 9999;
            pointer-events: none;
            opacity: 0.7;
        }

        .snowflake {
            position: absolute;
            top: -10px;
            width: 10px;
            height: 10px;
            background-color: #fff;
            border-radius: 50%;
            animation: fall 10s linear infinite;
        }

        @keyframes fall {
            0% { top: -10px; }
            100% { top: 100vh; }
        }

        /* Footer Styling */
        footer {
            background-color: #b22222;
            color: white;
            padding: 10px;
            position: fixed;
            bottom: 0;
            width: 100%;
            text-align: center;
            font-size: 14px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            header h1 {
                font-size: 28px;
            }

            header p {
                font-size: 16px;
            }

            .card {
                width: 100%;
                max-width: 280px;
            }

            .card-container {
                flex-direction: column;
                align-items: center;
            }

            .modal-content {
                width: 90%;
                padding: 20px;
            }
        }

        @media (max-width: 480px) {
            header h1 {
                font-size: 24px;
            }

            header p {
                font-size: 14px;
            }

            .card {
                width: 100%;
                max-width: 260px;
            }

            .modal-content {
                width: 95%;
                padding: 15px;
            }
        }
    </style>
</head>

<body>
    <header>
        <h1>Gli indovinelli di Natale per Zia Cristina e Zio Fausto</h1>
        <p id="enigmas_count">Indovinelli rimanenti: <span id="remaining-enigmas">3</span></p>
    </header>

    <div id="the_modals">  

        <ul class="enigma-list">
            <li><a href="#" id="link1" onclick="openModal(1)">üéÑ L'enigma della stella perduta</a></li>
            <li><a href="#" id="link2" onclick="openModal(2)">üéÅ Il mistero del folletto burlone</a></li>
            <li><a href="#" id="link3" onclick="openModal(3)">‚ùÑÔ∏è L' intrigo del pendio innevato</a></li>
        </ul>

        <!-- The Modals -->
        
        <div id="modal1" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal(1)">&times;</span>
                <h2>Indovinello 1: La lettera mancante</h2>
                <p>Trovate la lettera mancante in questa suite: L, M, M, G, V, S, ...?</p>
                <p class="indice">Indice: sembrano essere le prime lettere di...</p>
                <input type="text" id="answer1" placeholder="*">
                <button onclick="checkAnswer(1, 'd')">Inviare</button>
            </div>
        </div>

        <div id="modal2" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal(2)">&times;</span>
                <h2>Indovinello 2: Il puzzle dei numeri</h2>
                <p>Cosa viene dopo? 1, 2, 3, 5, 8, 13, ...?</p>
                <input type="text" id="answer2" placeholder="**">
                <button onclick="checkAnswer(2, '21')">Inviare</button>
            </div>
        </div>

        <div id="modal3" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal(3)">&times;</span>
                <h2>Indovinello 3: L'enigma finale</h2>
                <p>Cos'√® che puoi trovare in primavera, in estate e in inverno ma non in autunno ?</p>
                <p class="indice">Indice: ce ne sono 26 nell'alfabetto ma ne serve solo una...</p>
                <input type="text" id="answer3" placeholder="*">
                <button onclick="checkAnswer(3, 'e')">Inviare</button>
            </div>
        </div>

    </div>

    <div id="the_card" class="card-container hidden">
        <!-- Gift Message -->
        <div style="display: block;">
            <h2>Il vostro regalo: uno spettacolo teatrale a Civitanova Marche.</h2>
            <p>Chiedere i biglietti a vostra nipote.</p>
        </div>
    
        <!-- Cards Wrapper -->
        <div class="cards-wrapper">

            <!-- Card 2 -->
            <div class="card ">
                <div class="card-header card-discovery">
                    <h3>Gabriele Cirilli - Cirilli & Family</h3>
                </div>
                <div class="card-body">
                    <p>Per Gabriele Cirilli √® una squadra, un gruppo di persone che combatte, l‚Äôuna accanto all‚Äôaltra, per il raggiungimento di uno scopo. <br>
                        Nella famiglia ognuno ha il suo compito. Nella sua, per esempio, la moglie ha il compito di far quadrare le spese, il figlio si occupa di tutte le cose tecnologiche, mentre Gabriele‚Ä¶ butta l‚Äôimmondizia.<br>
                        <br>
                        Ma ‚ÄúFAMIGLIA‚Äù non si riferisce solo a quella domestica: se ci sono lo spirito e la motivazione giusta, qualsiasi gruppo di persone pu√≤ fare, come si dice oggi, un ‚ÄúUpgrade‚Äù e diventare una famiglia.<br>
                         Infatti tutte le volte che Gabriele si ritrova a lavorare insieme a registi, autori, sceneggiatori‚Ä¶ lui, per sentirsi in famiglia, butta la spazzatura.
                        <br>
                        E se il mondo intero operasse come una ‚ÄúGRANDE FAMIGLIA‚Äù allora s√¨ che potremmo lasciare un futuro migliore ai nostri nipoti. Riusciremmo a fare il MIRACOLO se tutti si rendessero responsabili non solo della propria felicit√†, ma anche di quella degli altri, pensiamo ad esempio al risparmio energetico, a ridurre l‚Äôinquinamento o al tema che Gabriele sente pi√π vicino: la raccolta differenziata.<br>
                        <br>
                        Gabriele racconter√† vizi, virt√π e divertimenti dell‚Äôuniverso famiglia: partendo dalla sua, portando il pubblico a riconoscersi e diventarne parte. <br>
                        Perch√© questo √® il messaggio che Gabriele Cirilli vuole lanciare con il suo nuovo spettacolo: se le persone sono disposte ad avvicinarsi e a lottare insieme con un comune denominatore, l‚ÄôAMORE, allora una semplice ‚ÄúSQUADRA‚Äù diventer√† qualcosa di pi√π: come si dice oggi un ‚ÄúUpgrade‚Äù, o come si √® sempre detto, una ‚ÄúFAMILY‚Äù.
                    </p>
                </div>
                <div class="card-footer">
                    <p>Al Teatro Rossini di Civitanova Marche</p>
                    <p>Il 01/03/2025</p>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <p>Creato da la squadra di Babo Natale</p>
    </footer>
    
    <script>
        let enigmasLeft = 3;
        let answers = ["d", "21", "e"];

        // Disable the link to prevent modal from opening
        function disableLink(enigmaNumber) {
            document.getElementById(`link${enigmaNumber}`).onclick = function(event) {
                event.preventDefault(); // Prevent modal from opening
            };
            document.getElementById(`link${enigmaNumber}`).style.color = '#ccc'; // Change link color to indicate it's disabled
        }

        // Enable the link to allow modal to open again
        function enableLink(enigmaNumber) {
            document.getElementById(`link${enigmaNumber}`).onclick = function() {
                openModal(enigmaNumber);
            };
            document.getElementById(`link${enigmaNumber}`).style.color = ''; // Restore original color
        }

        function openModal(enigmaNumber) {
            document.getElementById(`modal${enigmaNumber}`).style.display = "block";
        }

        function closeModal(enigmaNumber) {
            document.getElementById(`modal${enigmaNumber}`).style.display = "none";
        }

        function checkAnswer(enigmaNumber, correctAnswer) {
            const userAnswer = document.getElementById(`answer${enigmaNumber}`).value.toLowerCase().trim();
            if (userAnswer === correctAnswer) {
                closeModal(enigmaNumber);
                alert(`üéâ Siiii √® giusto! Enigma ${enigmaNumber} risolta! üéâ`);
                document.getElementById(`modal${enigmaNumber}`).classList.add('resolved');
                document.getElementById(`answer${enigmaNumber}`).disabled = true;
                document.querySelector(`#modal${enigmaNumber} button`).disabled = true;
                enigmasLeft--;
                document.getElementById("remaining-enigmas").textContent = enigmasLeft;

                // Disable the link after the enigma is solved
                disableLink(enigmaNumber);

                if (enigmasLeft <= 0) {
                    // now we have to implement the new voucher to be seen ...
                    document.getElementById('enigmas_count').classList.add('hidden');
                    document.getElementById('the_modals').classList.add('hidden');
                    document.getElementById('the_card').classList.remove('hidden');
                }

            } else {
                alert("‚ùå '" + userAnswer + "' √® sbagliato ! Prova un altra volta!");
            }
        }

        //christmas snowflakes:
        const snowflakes = document.createElement('div');
        snowflakes.classList.add('snowflakes');
        document.body.appendChild(snowflakes);

        // Create 50 snowflakes
        for (let i = 0; i < 50; i++) {
            const snowflake = document.createElement('div');
            snowflake.classList.add('snowflake');
            snowflakes.appendChild(snowflake);
            
            // Randomize snowflake position and size
            snowflake.style.left = `${Math.random() * 100}vw`;
            snowflake.style.animationDuration = `${Math.random() * 5 + 5}s`; // Randomize falling speed
            snowflake.style.animationDelay = `${Math.random() * 5}s`; // Randomize delay
            snowflake.style.width = `${Math.random() * 5 + 5}px`;
            snowflake.style.height = snowflake.style.width;
        }
    </script>
</body>
</html>
